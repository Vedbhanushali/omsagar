<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop</title>
    <!-- <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css"> -->
    <!-- <script src="//netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script> -->
    <!-- <script src="//code.jquery.com/jquery-1.11.1.min.js"></script> -->
       <!-- Bootstrap CSS -->
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
       <link rel="stylesheet" href="css/footer_file.css">

    <link rel="stylesheet" href="css/Complain.css">
    <link rel="stylesheet" href="css/dark_mode.css">
    <style media="screen">

            :root{
            --primary-color: aliceblue;
            --secondary-color: black;
            --form-background:rgba(0, 0, 0, 0.233);
            --title-color: #0067e6;
            }

            [data-theme="dark"] {
                --primary-color: black;
                --secondary-color: white;
                --title-color: #fec150;
            }

            .heading{
                color: var(--title-color);
            }
          .required-star{
            color: red;
          }
            body{
                background-color: var(--primary-color);
                color: var(--secondary-color) ;
                }
            .table{
                background: var(--primary-color);
                color: var(--secondary-color);
            }
            td,
            th{
              width: 25%;
            }

            /* Animation */

            table{

            white-space: nowrap;
            overflow: hidden;
            text-align: justify;

            }

            table{
            animation: animated-text 1s linear 1s 1 normal both,
                    animated-cursor 600ms linear infinite;
            position: sticky;
            }

            /* text animation */

            @keyframes animated-text{
            from{max-width: 0;text-align: justify;visibility: hidden;}
            to{max-width: 100%;text-align: justify;visibility: visible;}
            }

            /* cursor animations */

            @keyframes animated-cursor{
            from{border-right-color: var(--border-cursor-color); }
            to{border-right-color: transparent;}
            }


    </style>
</head>

<body>

  <!-- navbar---------------------------------------------------------->
    <nav class="navbar sticky-top navbar-expand-lg navbar-dark" style="background: #0075A2;color: aliceblue;" >
      <div class="container-fluid" >
          <div class="navbar-nav me-auto mb-4 mb-lg-0">
              <a class="container navbar-brand" href="index.html">
                  <img src="img/OM_LOGO.png" alt="logo.png ni=ot found" height="100" width="160" class="d-inline-block align-top">
              </a>
          </div>

          <div class=" ">
              <div class="mx-auto" style="width: 600px;">
                      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01"  aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
                                  <span class="navbar-toggler-icon"></span>
                              </button>

                      <div class="collapse navbar-collapse " id="navbarTogglerDemo01">
                          <ul class="nav navbar-nav navbar-right" >
                              <li class="nav-item">
                                  <a class="nav-link " aria-current="page" href="index.html">HOME</a>
                              </li>
                              <li class="nav-item">
                                  <a class="nav-link active" href="shopping.html">SHOP</a>
                              </li>
                              <li class="nav-item dropdown">
                                  <a class="nav-link dropdown-toggle " href="#" id="navbarDropdown" role="button"           data-bs-toggle="dropdown" aria-expanded="false">
                                      PRODUCTS
                                  </a>
                                  <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <li><a class="dropdown-item" href="grey_products.html">Grey Products</a></li>
                                    <li><hr class="dropdown-divider"></li>
                                    <li><a class="dropdown-item" href="more_product.html">More</a></li>
                                  </ul>
                              </li>
                              <li class="nav-item">
                                  <a class="nav-link " href="index.html#contact">CONTACT</a>
                              </li>
                              <li>
                              <li class="nav-item">
                                  <a class="nav-link " href="about.html">ABOUT</a>
                              </li>
                              <li class="nav-item dropdown">
                                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  MORE
                                  </a>
                                  <ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                                  <li><a class="dropdown-item mx-auto"  href="Complain.html">Complain</a></li>
                                  <li><a class="dropdown-item mx-auto"  href="feedback_help.html">Feedback & Help &nbsp;&nbsp;</a></li>
                                  <li> <a class="dropdown-item mx-auto " id="theme">Theme&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;
                                    <label class="theme-switch theme-switch-wrapper " for="checkbox">
                                  <input type="checkbox" id="checkbox" />
                                  <div class="slider">
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="15"
                                      height="15"
                                      viewBox="0 0 24 24"
                                      fill="none"
                                      stroke="currentColor"
                                      stroke-width="2"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      class="feather feather-sun"
                                    >

                                      <path
                                        d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"
                                      ></path>
                                    </svg>
                                    <svg
                                      xmlns="http://www.w3.org/2000/svg"
                                      width="15"
                                      height="15"
                                      viewBox="0 0 24 24"
                                      fill="none"
                                      stroke="currentColor"
                                      stroke-width="2"
                                      stroke-linecap="round"
                                      stroke-linejoin="round"
                                      class="feather feather-moon"
                                    >
                                    <circle cx="12" cy="12" r="5"></circle>
                                    <line x1="12" y1="1" x2="12" y2="3"></line>
                                    <line x1="12" y1="21" x2="12" y2="23"></line>
                                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                    <line x1="1" y1="12" x2="3" y2="12"></line>
                                    <line x1="21" y1="12" x2="23" y2="12"></line>
                                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                                    </svg>
                                  </div>
                                </label>
                               </a>
                          </li>

                                  <li><a class="dropdown-item mx-auto"  href="#">...</a></li>
                                  </ul>
                              </li>

                              <li class="nav-item">
                                  <a href="cart.html">
                                      <svg xmlns="http://www.w3.org/2000/svg" style="color: white;" width="25" height="25" fill="currentColor" class="bi bi-cart4" viewBox="0 0 16 16">
                                          <path d="M0 2.5A.5.5 0 0 1 .5 2H2a.5.5 0 0 1 .485.379L2.89 4H14.5a.5.5 0 0 1 .485.621l-1.5 6A.5.5 0 0 1 13 11H4a.5.5 0 0 1-.485-.379L1.61 3H.5a.5.5 0 0 1-.5-.5zM3.14 5l.5 2H5V5H3.14zM6 5v2h2V5H6zm3 0v2h2V5H9zm3 0v2h1.36l.5-2H12zm1.11 3H12v2h.61l.5-2zM11 8H9v2h2V8zM8 8H6v2h2V8zM5 8H3.89l.5 2H5V8zm0 5a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0zm9-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-2 1a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"/>
                                      </svg>
                                  </a><span class="total-count"></span>
                              </li>
                          </ul>
              </div>

      </div>
  </nav>

 <!-- this is body part----->

<br><br><br>
 <div class="container">
    <table class="table">
        <thead>
            <tr>
              <th class="heading">Product</th>
              <th class="heading">Price</th>
              <th class="heading" style="text-align: center;">Quantity</th>
              <th class="heading"> </th>
              <th class="heading" style="text-align: right;">Total Price</th>

            </tr>
        </thead>
        <table class="show-cart table"></table>
    </table>
    <div>Total price: ₹<span class="total-cart"></span></div><br><br>

  <div class="footer">

  </button><button class="clear-cart btn btn-danger">Clear Cart</button>
   <!-- Button trigger modal -->
  <button id="modal-submit" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalCenter"  type="submit" value="Submit">
      Order Now
    </button>
  </div>

                                          <!-- The Modal -->
                                          <div id="myModal" class="modal">

                                            <!-- Modal content -->
                                            <div class="modal-content modal-responsive" >
                                              <div class="modal-dialog modal-dialog-centered" role="document">
                                                <div class="modal-content">
                                                  <div class="modal-header">
                                                    <h5 class="modal-title" id="exampleModalLongTitle">Fill Below Form</h5>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                      <span aria-hidden="true">&times;</span>
                                                    </button>
                                                  </div>
                                                  <div class="modal-body" >
                                                    <form class="was-validated form-floating needs-validation" action="javascript:sendMail()" method="post"  novalidate>
                                                        <fieldset >
                                                              <div class="fieldset_div container" >
                                                              <div class="mb-3"><br>
                                                                  <label for="textInput" class="form-label">Name <span class="required-star">*</span></label>
                                                                    <input type="text" id="form-name" class="form-control " placeholder="Enter full name" required>
                                                              </div>

                                                              <label for="exampleFormControlInput1" class="form-label">Phone <span class="required-star">*</span></label>
                                                              <div class="input-group mb-3">
                                                                  <select  class="form-select-sm is-invalid" aria-label=".form-select-sm example" style="width: 25%;" required>
                                                                      <option value="1">+91</option>
                                                                      <option value="2">0281</option>
                                                                      <option value="3">+241</option>
                                                                      <option value="4">***</option>
                                                                      <option value="5">***</option>
                                                                  </select>
                                                                  <input id="form-phone"type="tel" class="form-control"  pattern="[0-9]{10}"  aria-label="Text input with dropdown button"  data-bs-toggle="tooltip" data-bs-placement="bottom" title="number must be of size 10 " placeholder="" required>
                                                              </div>
                                                              <div class="mb-3">
                                                                <label for="exampleFormControlInput1" class="form-label">Email address <span class="required-star">*</span></label>
                                                                <input id="form-email" type="email" class="form-control " id="exampleFormControlInput1" placeholder="name@example.com" required>
                                                              </div>
                                                              <div>
                                                                <label for="validationServer03" class="form-label">State<span class="required-star">*</span></label>
                                                            <input type="text" class="form-control" id="form-state" aria-describedby="validationServer03Feedback" required>
                                                            <div id="validationServer03Feedback" class="invalid-feedback">
                                                              Please provide a valid state.
                                                            </div>
                                                            <div>
                                                              <label for="validationServer04" class="form-label">City<span class="required-star">*</span></label>
                                                            <input type="text" class="form-control" id="form-city" aria-describedby="validationServer04Feedback" required>
                                                            <div id="validationServer04Feedback" class="invalid-feedback">
                                                              Please provide a valid city.
                                                            </div>
    </div>
                                                              </div>
                                                              <div class="mb-3">
                                                                <label for="exampleFormControlTextarea1" class="form-label">Address<span class="required-star">*</span></label>
                                                                <textarea class="form-control is-invalid" id="form-text" rows="3" required></textarea>
                                                              </div>
                                                              <div class="form-check">
                                                                <input type="checkbox" class="form-check-input" id="validationFormCheck1" required>
                                                                 <label class="form-check-label" for="validationFormCheck1">   Agree to terms and conditions</label>
                                                                   <div class="invalid-feedback">        You must agree before submitting.
                                                                  </div>
                                                              </div>
                                                            </div>
                                                        </fieldset>
                                                      </form>
                                                </div>
                                                  <div class="modal-footer">
                                                    <!-- <button type="submit" id="submit-btn" class="btn btn-success" > Submit</button> -->

                                                    <input type="submit" class="btn btn-success" value="Submit" onclick="sendMail();"/>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>

                                            </div>

</div>


<br><br><br>

<br><br><br><br><br>
<!-- footer ------------------------------------------------------------------------------------------------>
                <div class="footer  position-absolute top-100 start-50 translate-middle">
                  <footer style="background-color: black; background-color: #86c5da !important;">
                    <div class="container" ><br>
                      <div class="row">
                        <div class="col-sm center " style="text-align: center;">
                          <a href="#" style="color: black;">Terms & Condition        </a><br>
                          <a href="#" style="color: black;">Privacy Policy     </a><br><br>
                        </div>
                        <div class="col-sm  center " style="text-align: center;">
                          <a href="about.html" style="color: black;">About  </a><br>
                              <a href="contact.html" style="color: black;">Contact us        </a><br><br>

                        </div>
                        <div class="col-sm  center " style="text-align: center;">
                          <a href="Complain.html"style="color: black;">Complain Us   </a><br>
                          <a href="index.html" style="color: black;">Om Sagar Textile    </a><br><br>
                        </div>
                      </div>
                    </div>

                  </footer>
                </div>
<!-------------------------------------------------------------------------------------------->
<script
src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js"
integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous">
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"
integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous">
</script>
<!-- <script src="javascript/complain.js"></script> -->
<!--add jquery for cart-->
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>


  <!--add jquery for cart-->
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

  <script src="javascript/dark_mode.js"></script>
  <script src="javascript/shopping.js"></script>
  <script src="javascript/cart.js"></script>
</body>

<!-- from here it is for email -->
  <script src="https://smtpjs.com/v3/smtp.js"></script>
  </body>
  <!--add jquery for cart-->
  <!-- <script src="https://smtpjs.com/v3/smtp.js"></script> -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://smtpjs.com/v3/smtp.js"></script>
  <script>
  function sendMail(){
    var Mname = $('#form-name').val();
    var Memail = $('#form-email').val();
    var Mphone = $('#form-phone').val();
    var Mtext = $('#form-text').val();
    var Mcity = $('#form-city').val();
    var Mstate =  $('#form-state').val();
    //var Mprice = document.getElementsByClassName("total-cart");
    var Mgrey = document.getElementById("form-quantity-Grey");
    var Myarn = document.getElementById("form-quantity-Yarn");
    var Mprod;
    console.log(Mgrey);
    console.log(Myarn);
    MQG = $('#form-quantity-Grey').val();
    var Mquantity = 0;
    var Mprice = 0;
    if(Mgrey && !Myarn){
       Mquantity=$('#form-quantity-Grey').val();
       Mprice = Mquantity * 200;
       console.log("In first");
       Mprod = "Grey Product";
    }
    else if(!Mgrey && Myarn){
      Mquantity=$('#form-quantity-Yarn').val();
      Mprice = Mquantity * 300;
      console.log("In SEc");
      Mprod = "Yarn"
    } else {
      Mquantity = "Yarn : ";
      Mquantity= Mquantity + $('#form-quantity-Yarn').val();
      Mquantity = Mquantity + " Grey Products : "+$('#form-quantity-Grey').val();
      console.log(Mquantity);
      Mprice = $('#form-quantity-Yarn').val()*200 + $('#form-quantity-Grey').val() * 200;
      console.log(Mprice);
      console.log("In third");
      Mprod = "Grey Product and Yarn"
    }
    var Mbody = 'Details<br>Name: '+Mname+'<br>Email: '+Memail+'<br>Phone number: '+Mphone+'<br>City: '+Mcity+'<br>State: '+Mstate+'<br>Address: '+Mtext+
    '<br>Products :'+Mprod+' <br>Quantity : '+ Mquantity + '<br>Price : '+Mprice;
    console.log("Without sending mail");

      Email.send({

      SecureToken: "127e16a9-a597-41f7-9323-7251ac5e1842",
      To : '19ce003@charusat.edu.in',
      From : "omsagar6654@gmail.com",
      Subject : "Product Order from " + Mname,
      Body : Mbody
    }).then(
      message =>{
          if(message=='OK'){
            alert('Thank you, your email has been send Successfully');
          } else {
            alert('Error in sending email. Try again..');
          }
      }
    );
  }
  // Prevent Submission without filling required details
(function () {
  'use strict';
  window.addEventListener('load', function () {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function (form) {
      form.addEventListener('submit', function (event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
          form.addClass("is-invalid");
        }
        else {

          $("#submit-btn").addClass("active");
          sendMail();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();


  // Get the modal
  var modal = document.getElementById("myModal");

  // Get the button that opens the modal
  var btn = document.getElementById("modal-submit");

  // Get the <span> element that closes the modal
  var span = document.getElementsByClassName("close")[0];

  // When the user clicks the button, open the modal

  btn.onclick =function() {
    modal.style.display = "block";
  }

  // When the user clicks on <span> (x), close the modal
  span.onclick = function() {
    modal.style.display = "none";
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal) {
      modal.style.display = "none";
    }
  }


  </script>
</html>
